<!doctype html>
<html>

<head>
    {% load static %}
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
    <link rel="stylesheet" href="{% static 'style.css' %}">
</head>

<body>
    <div class="flex justify-between w-400 mx-auto mt-7 items-center pb-5 border-b-3 mb-10">
        <h1 class="text-3xl font-bold">{{project.title}}</h1>
        <form action="/project/{{project.id}}/details/logout" method="post">
            {% csrf_token %}
            <input type="submit" value="logout" class="underline text-[1.2em] text-blue-500">
        </form>
    </div>
    <a href="/dashboard" class="border text-center px-4 block w-30 ml-auto mr-40 rounded-2xl">Dashboard</a>

    <div class="ml-40 w-160 mr-30">
        <h2 class="text-4xl mb-6">Project name: {{project.title}}</h2>
        <p class="text-[1.4em] mb-4">Project owner: {{project.creator.fname}} {{project.creator.lname}}</p>
        <p class="text-[1.4em] mb-4">{{project.desc}}</p>
    </div>

    <div class="ml-40 mt-30">
        <h2 class="text-3xl">{{project.title}} Team</h2>
        <ul class="list-disc list-inside">
            {% for user in project.users.all %}
            {% if user.id != project.creator.id %}
            <li class="mt-3 ml-7">.{{user.fname}} {{user.lname}} <span class="ml-6">
                    {% if user in project.users.all %}
                    <form action="/project/{{project.id}}/details/separate" method="post" class="inline">
                        {% csrf_token %}
                        <input type="hidden" name="user_id" value="{{user.id}}">
                        <input type="submit" value="X" class="text-red-500">
                    </form>
                    {% endif %}
                </span></li>
            {% endif %}
            {% endfor %}
        </ul>
    </div>
    {% if project.creator.id == enterd_user.id %}
    <div class="flex mt-30 ml-40">
        <a href="/editproject/{{project.id}}" class="border shadow-[3px_3px_3px_rgb(0,0,0)] mr-10">Edit</a>
        <form action="/project/{{project.id}}/details/delete" method="post">
            {% csrf_token %}
            <input type="submit" value="Delete" class="border shadow-[3px_3px_3px_rgb(0,0,0)]">
        </form>
    </div>
    {% endif %}
</body>

</html>